!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Alpine=factory()}(this,(function(){"use strict";function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var regenerator=createCommonjsModule((function(module){var runtime=function(exports){var Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){prototype[method]=function(arg){return this._invoke(method,arg)}}))}function AsyncIterator(generator){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise((function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):Promise.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}(module.exports);try{regeneratorRuntime=runtime}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(runtime)}}));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var asyncToGenerator=function(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}};var defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},_typeof_1=createCommonjsModule((function(module){function _typeof(obj){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?module.exports=_typeof=function(obj){return typeof obj}:module.exports=_typeof=function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}module.exports=_typeof}));var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var createClass=function(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor};var arrayWithoutHoles=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}};var iterableToArray=function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)};var nonIterableSpread=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var toConsumableArray=function(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||nonIterableSpread()};function arrayUnique(array){for(var a=array.concat(),i=0;i<a.length;++i)for(var j=i+1;j<a.length;++j)a[i]===a[j]&&a.splice(j--,1);return a}function isTesting(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function walk(el,callback){if(!1!==callback(el))for(var node=el.firstElementChild;node;)walk(node,callback),node=node.nextElementSibling}function saferEval(expression,dataContext){var additionalHelperVariables=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Function(["$data"].concat(toConsumableArray(Object.keys(additionalHelperVariables))),"var result; with($data) { result = ".concat(expression," }; return result")).apply(void 0,[dataContext].concat(toConsumableArray(Object.values(additionalHelperVariables))))}function saferEvalNoReturn(expression,dataContext){var additionalHelperVariables=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Function(["dataContext"].concat(toConsumableArray(Object.keys(additionalHelperVariables))),"with(dataContext) { ".concat(expression," }")).apply(void 0,[dataContext].concat(toConsumableArray(Object.values(additionalHelperVariables))))}function isXAttr(attr){var name=replaceAtAndColonWithStandardSyntax(attr.name);return/x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref)/.test(name)}function getXAttrs(el,type){return Array.from(el.attributes).filter(isXAttr).map((function(attr){var name=replaceAtAndColonWithStandardSyntax(attr.name),typeMatch=name.match(/x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref)/),valueMatch=name.match(/:([a-zA-Z\-:]+)/),modifiers=name.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:typeMatch?typeMatch[1]:null,value:valueMatch?valueMatch[1]:null,modifiers:modifiers.map((function(i){return i.replace(".","")})),expression:attr.value}})).filter((function(i){return!type||i.type===type}))}function replaceAtAndColonWithStandardSyntax(name){return name.startsWith("@")?name.replace("@","x-on:"):name.startsWith(":")?name.replace(":","x-bind:"):name}function transitionIn(el,callback){var forceSkip=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(forceSkip)return callback();var attrs=getXAttrs(el,"transition");if(attrs.length<1)return callback();var enter=(attrs.find((function(i){return"enter"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),enterStart=(attrs.find((function(i){return"enter-start"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),enterEnd=(attrs.find((function(i){return"enter-end"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i}));transition(el,enter,enterStart,enterEnd,callback,(function(){}))}function transitionOut(el,callback){var forceSkip=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(forceSkip)return callback();var attrs=getXAttrs(el,"transition");if(attrs.length<1)return callback();var leave=(attrs.find((function(i){return"leave"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),leaveStart=(attrs.find((function(i){return"leave-start"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i})),leaveEnd=(attrs.find((function(i){return"leave-end"===i.value}))||{expression:""}).expression.split(" ").filter((function(i){return""!==i}));transition(el,leave,leaveStart,leaveEnd,(function(){}),callback)}function transition(el,classesDuring,classesStart,classesEnd,hook1,hook2){var _el$classList,_el$classList2,originalClasses=el.__x_original_classes||[];(_el$classList=el.classList).add.apply(_el$classList,toConsumableArray(classesStart)),(_el$classList2=el.classList).add.apply(_el$classList2,toConsumableArray(classesDuring)),requestAnimationFrame((function(){var duration=1e3*Number(getComputedStyle(el).transitionDuration.replace("s",""));hook1(),requestAnimationFrame((function(){var _el$classList3,_el$classList4;(_el$classList3=el.classList).remove.apply(_el$classList3,toConsumableArray(classesStart.filter((function(i){return!originalClasses.includes(i)})))),(_el$classList4=el.classList).add.apply(_el$classList4,toConsumableArray(classesEnd)),setTimeout((function(){var _el$classList5,_el$classList6;(hook2(),el.isConnected)&&((_el$classList5=el.classList).remove.apply(_el$classList5,toConsumableArray(classesDuring.filter((function(i){return!originalClasses.includes(i)})))),(_el$classList6=el.classList).remove.apply(_el$classList6,toConsumableArray(classesEnd.filter((function(i){return!originalClasses.includes(i)})))))}),duration)}))}))}function handleForDirective(component,el,expression,initialUpdate){var _parseFor=function(expression){var forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,inMatch=expression.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!inMatch)return;var res={};res.bunch=inMatch[2].trim();var single=inMatch[1].trim().replace(/^\(|\)$/g,""),iteratorMatch=single.match(forIteratorRE);iteratorMatch?(res.single=single.replace(forIteratorRE,"").trim(),res.iterator1=iteratorMatch[1].trim(),iteratorMatch[2]&&(res.iterator2=iteratorMatch[2].trim())):res.single=single;return res}(expression),single=_parseFor.single,bunch=_parseFor.bunch,iterator1=_parseFor.iterator1,iterator2=_parseFor.iterator2,items=component.evaluateReturnExpression(el,bunch),previousEl=el;items.forEach((function(i,index,group){var currentKey=function(component,el,single,iterator1,iterator2,i,index,group){var keyAttr=getXAttrs(el,"bind").filter((function(attr){return"key"===attr.value}))[0],keyAliases=defineProperty({},single,i);iterator1&&(keyAliases[iterator1]=index);iterator2&&(keyAliases[iterator2]=group);return keyAttr?component.evaluateReturnExpression(el,keyAttr.expression,(function(){return keyAliases})):index}(component,el,single,iterator1,iterator2,i,index,group),currentEl=previousEl.nextElementSibling;if(currentEl&&void 0!==currentEl.__x_for_key){if(currentEl.__x_for_key!==currentKey)for(var tmpCurrentEl=currentEl;tmpCurrentEl;){if(tmpCurrentEl.__x_for_key===currentKey){el.parentElement.insertBefore(tmpCurrentEl,currentEl),currentEl=tmpCurrentEl;break}tmpCurrentEl=!(!tmpCurrentEl.nextElementSibling||void 0===tmpCurrentEl.nextElementSibling.__x_for_key)&&tmpCurrentEl.nextElementSibling}delete currentEl.__x_for_key,currentEl.__x_for_alias=single,currentEl.__x_for_value=i,component.updateElements(currentEl,(function(){return defineProperty({},currentEl.__x_for_alias,currentEl.__x_for_value)}))}else{var clone=document.importNode(el.content,!0);el.parentElement.insertBefore(clone,currentEl),transitionIn(currentEl=previousEl.nextElementSibling,(function(){}),initialUpdate),currentEl.__x_for_alias=single,currentEl.__x_for_value=i,component.initializeElements(currentEl,(function(){return defineProperty({},currentEl.__x_for_alias,currentEl.__x_for_value)}))}currentEl.__x_for_key=currentKey,previousEl=currentEl}));for(var nextElementFromOldLoop=!(!previousEl.nextElementSibling||void 0===previousEl.nextElementSibling.__x_for_key)&&previousEl.nextElementSibling,_loop=function(){var nextElementFromOldLoopImmutable=nextElementFromOldLoop,nextSibling=nextElementFromOldLoop.nextElementSibling;transitionOut(nextElementFromOldLoop,(function(){nextElementFromOldLoopImmutable.remove()})),nextElementFromOldLoop=!(!nextSibling||void 0===nextSibling.__x_for_key)&&nextSibling};nextElementFromOldLoop;)_loop()}function handleAttributeBindingDirective(component,el,attrName,expression,extraVars){var value=component.evaluateReturnExpression(el,expression,extraVars);if("value"===attrName)if(void 0===value&&expression.match(/\./).length&&(value=""),"radio"===el.type)el.checked=el.value==value;else if("checkbox"===el.type)if(Array.isArray(value)){var valueFound=!1;value.forEach((function(val){val==el.value&&(valueFound=!0)})),el.checked=valueFound}else el.checked=!!value;else"SELECT"===el.tagName?function(el,value){var arrayWrappedValue=[].concat(value).map((function(value){return value+""}));Array.from(el.options).forEach((function(option){option.selected=arrayWrappedValue.includes(option.value||option.text)}))}(el,value):el.value=value;else if("class"===attrName)if(Array.isArray(value)){var originalClasses=el.__x_original_classes||[];el.setAttribute("class",arrayUnique(originalClasses.concat(value)).join(" "))}else if("object"===_typeof_1(value))Object.keys(value).forEach((function(classNames){value[classNames]?classNames.split(" ").forEach((function(className){return el.classList.add(className)})):classNames.split(" ").forEach((function(className){return el.classList.remove(className)}))}));else{var _originalClasses=el.__x_original_classes||[],newClasses=value.split(" ");el.setAttribute("class",arrayUnique(_originalClasses.concat(newClasses)).join(" "))}else["disabled","readonly","required","checked","hidden","selected"].includes(attrName)?value?el.setAttribute(attrName,""):el.removeAttribute(attrName):el.setAttribute(attrName,value)}function handleShowDirective(el,value){var initialUpdate=arguments.length>2&&void 0!==arguments[2]&&arguments[2];value?""!==el.style.display&&transitionIn(el,(function(){1===el.style.length?el.removeAttribute("style"):el.style.removeProperty("display")}),initialUpdate):"none"!==el.style.display&&transitionOut(el,(function(){el.style.display="none"}),initialUpdate)}function handleIfDirective(el,expressionResult,initialUpdate){"template"!==el.nodeName.toLowerCase()&&console.warn("Alpine: [x-if] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#x-if");var elementHasAlreadyBeenAdded=el.nextElementSibling&&!0===el.nextElementSibling.__x_inserted_me;if(expressionResult&&!elementHasAlreadyBeenAdded){var clone=document.importNode(el.content,!0);el.parentElement.insertBefore(clone,el.nextElementSibling),el.nextElementSibling.__x_inserted_me=!0,transitionIn(el.nextElementSibling,(function(){}),initialUpdate)}else!expressionResult&&elementHasAlreadyBeenAdded&&transitionOut(el.nextElementSibling,(function(){el.nextElementSibling.remove()}),initialUpdate)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function registerListener(component,el,event,modifiers,expression){var extraVars=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(modifiers.includes("away")){var handler=function handler(e){el.contains(e.target)||el.offsetWidth<1&&el.offsetHeight<1||(runListenerHandler(component,expression,e,extraVars),modifiers.includes("once")&&document.removeEventListener(event,handler))};document.addEventListener(event,handler)}else{var listenerTarget=modifiers.includes("window")?window:modifiers.includes("document")?document:el,_handler=function _handler(e){isKeyEvent(event)&&isListeningForASpecificKeyThatHasntBeenPressed(e,modifiers)||(modifiers.includes("prevent")&&e.preventDefault(),modifiers.includes("stop")&&e.stopPropagation(),runListenerHandler(component,expression,e,extraVars),modifiers.includes("once")&&listenerTarget.removeEventListener(event,_handler))};listenerTarget.addEventListener(event,_handler)}}function runListenerHandler(component,expression,e,extraVars){component.evaluateCommandExpression(e.target,expression,(function(){return function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},extraVars(),{$event:e})}))}function isKeyEvent(event){return["keydown","keyup"].includes(event)}function isListeningForASpecificKeyThatHasntBeenPressed(e,modifiers){var keyModifiers=modifiers.filter((function(i){return!["window","document","prevent","stop"].includes(i)}));if(0===keyModifiers.length)return!1;if(1===keyModifiers.length&&keyModifiers[0]===keyToModifier(e.key))return!1;var selectedSystemKeyModifiers=["ctrl","shift","alt","meta","cmd","super"].filter((function(modifier){return keyModifiers.includes(modifier)}));if((keyModifiers=keyModifiers.filter((function(i){return!selectedSystemKeyModifiers.includes(i)})),selectedSystemKeyModifiers.length>0)&&(selectedSystemKeyModifiers.filter((function(modifier){return"cmd"!==modifier&&"super"!==modifier||(modifier="meta"),e["".concat(modifier,"Key")]})).length===selectedSystemKeyModifiers.length&&keyModifiers[0]===keyToModifier(e.key)))return!1;return!0}function keyToModifier(key){switch(key){case"/":return"slash";case" ":case"Spacebar":return"space";default:return key.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}}function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function registerModelListener(component,el,modifiers,expression,extraVars){var event="select"===el.tagName.toLowerCase()||["checkbox","radio"].includes(el.type)||modifiers.includes("lazy")?"change":"input",listenerExpression="".concat(expression," = rightSideOfExpression($event, ").concat(expression,")");registerListener(component,el,event,modifiers,listenerExpression,(function(){return function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},extraVars(),{rightSideOfExpression:generateModelAssignmentFunction(el,modifiers,expression)})}))}function generateModelAssignmentFunction(el,modifiers,expression){return"radio"===el.type&&(el.hasAttribute("name")||el.setAttribute("name",expression)),function(event,currentValue){return event instanceof CustomEvent&&!window.document.documentMode?event.detail:"checkbox"===el.type?Array.isArray(currentValue)?event.target.checked?currentValue.concat([event.target.value]):currentValue.filter((function(i){return i!==event.target.value})):event.target.checked:"select"===el.tagName.toLowerCase()&&el.multiple?modifiers.includes("number")?Array.from(event.target.selectedOptions).map((function(option){return parseFloat(option.value||option.text)})):Array.from(event.target.selectedOptions).map((function(option){return option.value||option.text})):modifiers.includes("number")?parseFloat(event.target.value):modifiers.includes("trim")?event.target.value.trim():event.target.value}}function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach((function(key){defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var _start,Component=function(){function Component(el){var _this=this;classCallCheck(this,Component),this.$el=el;var initReturnedCallback,dataAttr=this.$el.getAttribute("x-data"),dataExpression=""===dataAttr?"{}":dataAttr,initExpression=this.$el.getAttribute("x-init"),createdExpression=this.$el.getAttribute("x-created"),mountedExpression=this.$el.getAttribute("x-mounted"),unobservedData=saferEval(dataExpression,{});window.document.documentMode&&(unobservedData.$el=null,unobservedData.$refs=null,unobservedData.$nextTick=null),this.$data=this.wrapDataInObservable(unobservedData),unobservedData.$el=this.$el,unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],unobservedData.$nextTick=function(callback){_this.nextTickStack.push(callback)},initExpression&&(this.pauseReactivity=!0,initReturnedCallback=this.evaluateReturnExpression(this.$el,initExpression),this.pauseReactivity=!1),createdExpression&&(console.warn('AlpineJS Warning: "x-created" is deprecated and will be removed in the next major version. Use "x-init" instead.'),this.pauseReactivity=!0,saferEvalNoReturn(this.$el.getAttribute("x-created"),this.$data),this.pauseReactivity=!1),this.initializeElements(this.$el),this.listenForNewElementsToInitialize(),"function"==typeof initReturnedCallback&&initReturnedCallback.call(this.$data),mountedExpression&&(console.warn('AlpineJS Warning: "x-mounted" is deprecated and will be removed in the next major version. Use "x-init" (with a callback return) for the same behavior.'),saferEvalNoReturn(mountedExpression,this.$data))}return createClass(Component,[{key:"wrapDataInObservable",value:function(data){var self=this,proxyHandler={set:function(obj,property,value){var func,wait,timeout,setWasSuccessful=value.$isAlpineProxy?Reflect.set(obj,property,value.$originalTarget):Reflect.set(obj,property,value);return self.pauseReactivity?setWasSuccessful:((func=function(){for(self.updateElements(self.$el);self.nextTickStack.length>0;)self.nextTickStack.shift()()},wait=0,function(){var context=this,args=arguments,later=function(){timeout=null,func.apply(context,args)};clearTimeout(timeout),timeout=setTimeout(later,wait)})(),setWasSuccessful)},get:function(target,key){return"$isAlpineProxy"===key||("$originalTarget"===key?target:target[key]&&target[key].$isRefsProxy?target[key]:target[key]&&target[key]instanceof Node?target[key]:"object"===_typeof_1(target[key])&&null!==target[key]?new Proxy(target[key],proxyHandler):target[key])}};return new Proxy(data,proxyHandler)}},{key:"walkAndSkipNestedComponents",value:function(el,callback){var _this2=this,initializeComponentCallback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};walk(el,(function(el){return el.hasAttribute("x-data")&&!el.isSameNode(_this2.$el)?(el.__x||initializeComponentCallback(el),!1):callback(el)}))}},{key:"initializeElements",value:function(rootEl){var _this3=this,extraVars=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};for(this.walkAndSkipNestedComponents(rootEl,(function(el){if(void 0!==el.__x_for_key)return!1;_this3.initializeElement(el,extraVars)}),(function(el){el.__x=new Component(el)}));this.nextTickStack.length>0;)this.nextTickStack.shift()()}},{key:"initializeElement",value:function(el,extraVars){el.hasAttribute("class")&&getXAttrs(el).length>0&&(el.__x_original_classes=el.getAttribute("class").split(" ")),this.registerListeners(el,extraVars),this.resolveBoundAttributes(el,!0,extraVars)}},{key:"updateElements",value:function(rootEl){var _this4=this,extraVars=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.walkAndSkipNestedComponents(rootEl,(function(el){if(void 0!==el.__x_for_key&&!el.isSameNode(_this4.$el))return!1;_this4.updateElement(el,extraVars)}),(function(el){el.__x=new Component(el)}))}},{key:"updateElement",value:function(el,extraVars){this.resolveBoundAttributes(el,!1,extraVars)}},{key:"registerListeners",value:function(el,extraVars){var _this5=this;getXAttrs(el).forEach((function(_ref){var type=_ref.type,value=_ref.value,modifiers=_ref.modifiers,expression=_ref.expression;switch(type){case"on":registerListener(_this5,el,value,modifiers,expression,extraVars);break;case"model":registerModelListener(_this5,el,modifiers,expression,extraVars)}}))}},{key:"resolveBoundAttributes",value:function(el){var _this6=this,initialUpdate=arguments.length>1&&void 0!==arguments[1]&&arguments[1],extraVars=arguments.length>2?arguments[2]:void 0;getXAttrs(el).forEach((function(_ref2){var type=_ref2.type,value=_ref2.value,expression=(_ref2.modifiers,_ref2.expression);switch(type){case"model":handleAttributeBindingDirective(_this6,el,"value",expression,extraVars);break;case"bind":if("template"===el.tagName.toLowerCase()&&"key"===value)return;handleAttributeBindingDirective(_this6,el,value,expression,extraVars);break;case"text":void 0===(output=_this6.evaluateReturnExpression(el,expression,extraVars))&&expression.match(/\./).length&&(output=""),el.innerText=output;break;case"html":el.innerHTML=_this6.evaluateReturnExpression(el,expression,extraVars);break;case"show":var output=_this6.evaluateReturnExpression(el,expression,extraVars);handleShowDirective(el,output,initialUpdate);break;case"if":output=_this6.evaluateReturnExpression(el,expression,extraVars);handleIfDirective(el,output,initialUpdate);break;case"for":handleForDirective(_this6,el,expression,initialUpdate);break;case"cloak":el.removeAttribute("x-cloak")}}))}},{key:"evaluateReturnExpression",value:function(el,expression){var extraVars=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return saferEval(expression,this.$data,_objectSpread$2({},extraVars(),{$dispatch:this.getDispatchFunction(el)}))}},{key:"evaluateCommandExpression",value:function(el,expression){var extraVars=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};saferEvalNoReturn(expression,this.$data,_objectSpread$2({},extraVars(),{$dispatch:this.getDispatchFunction(el)}))}},{key:"getDispatchFunction",value:function(el){return function(event){var detail=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};el.dispatchEvent(new CustomEvent(event,{detail:detail,bubbles:!0}))}}},{key:"listenForNewElementsToInitialize",value:function(){var _this7=this,targetNode=this.$el;new MutationObserver((function(mutations){for(var i=0;i<mutations.length;i++){var closestParentComponent=mutations[i].target.closest("[x-data]");if(!closestParentComponent||!closestParentComponent.isSameNode(_this7.$el))return;"attributes"===mutations[i].type&&"x-data"===mutations[i].attributeName&&function(){var rawData=saferEval(mutations[i].target.getAttribute("x-data"),{});Object.keys(rawData).forEach((function(key){_this7.$data[key]!==rawData[key]&&(_this7.$data[key]=rawData[key])}))}(),mutations[i].addedNodes.length>0&&mutations[i].addedNodes.forEach((function(node){1===node.nodeType&&(node.matches("[x-data]")?node.__x=new Component(node):_this7.initializeElements(node))}))}})).observe(targetNode,{childList:!0,attributes:!0,subtree:!0})}},{key:"getRefsProxy",value:function(){var self=this,refObj={$isRefsProxy:!1,$isAlpineProxy:!1};return window.document.documentMode&&this.walkAndSkipNestedComponents(self.$el,(function(el){el.hasAttribute("x-ref")&&(refObj[el.getAttribute("x-ref")]=!0)})),new Proxy(refObj,{get:function(object,property){return"$isRefsProxy"===property||(self.walkAndSkipNestedComponents(self.$el,(function(el){el.hasAttribute("x-ref")&&el.getAttribute("x-ref")===property&&(ref=el)})),ref);var ref}})}}]),Component}(),Alpine={start:(_start=asyncToGenerator(regenerator.mark((function _callee(){var _this=this;return regenerator.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isTesting()){_context.next=3;break}return _context.next=3,new Promise((function(resolve){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",resolve):resolve()}));case 3:this.discoverComponents((function(el){_this.initializeComponent(el)})),document.addEventListener("turbolinks:load",(function(){_this.discoverUninitializedComponents((function(el){_this.initializeComponent(el)}))})),this.listenForNewUninitializedComponentsAtRunTime((function(el){_this.initializeComponent(el)}));case 6:case"end":return _context.stop()}}),_callee,this)}))),function(){return _start.apply(this,arguments)}),discoverComponents:function(callback){document.querySelectorAll("[x-data]").forEach((function(rootEl){callback(rootEl)}))},discoverUninitializedComponents:function(callback){var el=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,rootEls=(el||document).querySelectorAll("[x-data]");Array.from(rootEls).filter((function(el){return void 0===el.__x})).forEach((function(rootEl){callback(rootEl)}))},listenForNewUninitializedComponentsAtRunTime:function(callback){var _this2=this,targetNode=document.querySelector("body");new MutationObserver((function(mutations){for(var i=0;i<mutations.length;i++)mutations[i].addedNodes.length>0&&mutations[i].addedNodes.forEach((function(node){1===node.nodeType&&(node.parentElement&&node.parentElement.closest("[x-data]")||_this2.discoverUninitializedComponents((function(el){_this2.initializeComponent(el)}),node.parentElement))}))})).observe(targetNode,{childList:!0,attributes:!0,subtree:!0})},initializeComponent:function(el){el.__x||(el.__x=new Component(el))}};return isTesting()||(window.Alpine=Alpine,window.Alpine.start()),Alpine}));
//# sourceMappingURL=alpine-ie11.js.map
